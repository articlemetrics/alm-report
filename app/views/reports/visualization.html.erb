
<div class="content wrapper">
  <%= render "reports_nav" %>

  <div class="visualizations-container">
    <div class="visualizations-list">
      <div class="reports-header-div">
        <span class="list-numbers">1</span>
        <h2 class="albert-light-normal">Article Usage over time</h2>
      </div>
      <div id="article_usage_div" class="report-graph" style="width: 670px; height: 392px;"></div>
      <p class="info">Description</p>
    </div>

    <div class="visualizations-list">
      <div class="reports-header-div">
        <span class="list-numbers">2</span>
        <h2 class="albert-light-normal">Citation over time</h2>
      </div>
      <div id="article_citation_div" class="report-graph" style="width: 670px; height: 392px;"></div>
      <p class="info">Description</p>
    </div>    
  
    <div class="visualizations-list">
      <div class="reports-header-div">
        <span class="list-numbers">3</span>
        <h2 class="albert-light-normal">Social Activity</h2>
      </div>
      <div id="social_heatmap_div" class="report-graph" style="width: 670px; height: 392px;"></div>
      <p class="info">Description</p>
    </div>

  </div>

  
  <%= render "report_download" %>

</div>


<script type="text/javascript">
function haveDataToDrawViz() {
  return <%= @draw_viz %>;
}

function drawVizForOne() {
  return true;
}

function getArticleUsageData() {
  return <%= raw @article_usage_data %>;
}

function getArticleCitationData() {
  return <%= raw @article_citation_data %>;
}

function getSocialHeatMapData() {
 //return <%= raw @social_heatmap %>;
 var blah =  <%= raw @social_heatmap.to_json %>;

 // var data = new Array();
 // var i = 0;

 // for (i = 0; i < blah.length; i++) {
 //  data.push(blah[i]); 
 // }

 // return data;

//  var blah = [
//  ["Date","Citeulike","Research Blogging","nature","science seeker","twitter"],
//  [0,3,15,null,null,null]
// // [4,null,1,null,null,null],
// // [9,1,null,null,null,null],
// // [10,1,1,null,null,null],
// // [24,1,null,null,null,null],
// // [35,1,1,null,null,null],
// // [38,null,null,null,null,1],
// // [46,null,null,null,null,1]
//  ];

 return blah;
}

</script>

<%= javascript_include_tag "charts" %>